
# Gal-Friday2 Outstanding Implementations Tracker

This document tracks all temporary, placeholder, and basic implementations that need to be replaced with production-ready code.

## Priority Levels
- **CRITICAL**: System cannot function properly without these
- **HIGH**: Major functionality is limited
- **MEDIUM**: Features work but need enhancement
- **LOW**: Code cleanup and optimization

---

## CRITICAL PRIORITY

### ~~1. Completely Unimplemented Data Providers~~ ✅ COMPLETED
**Status**: Implemented production-ready database and API providers with full functionality

---

## HIGH PRIORITY

### ~~1. Stub Classes in BacktestingEngine~~ ✅ COMPLETED
**Status**: Implemented production-ready PubSubManager, RiskManager, and ExchangeInfoService

### ~~2. TA-Lib Integration Placeholder~~ ✅ COMPLETED
**Status**: Implemented comprehensive technical indicator calculations with multiple backend support

### ~~3. Strategy Selection DAL Integration~~ ✅ COMPLETED
**Status**: Fully integrated with database persistence layer

### ~~4. Monitoring Dashboard Mock Data~~ ✅ COMPLETED
**Status**: Connected to real-time metrics and live data collection

---

## MEDIUM PRIORITY

### ~~1. Simplified Market Price Service~~ ✅ COMPLETED
**Status**: Enhanced with enterprise-grade configuration management and realistic data generation

### ~~2. Feature Engine Simplifications~~ ✅ COMPLETED
**Status**: Implemented sophisticated spread calculations and validation logic

### ~~3. Execution Handler Enhancements~~ ✅ COMPLETED
**Status**: Upgraded with EnhancedMarketDataService and KrakenErrorClassifier

### ~~4. Model Return Types~~ ✅ COMPLETED
**Status**: All models already returning proper event objects, cleaned up misleading comments

### 5. Order Position Integration
**File**: `/gal_friday/execution/order_position_integration.py`
- **Line 417**: `# For now, just log that manual intervention is needed`
- **Line 437**: `# For now, placeholder implementation`

### 6. Main Module Simplifications
**File**: `/gal_friday/main.py`
- **Line 401**: `# Basic capability checks (simplified - would need actual service availability checks)`
- **Line 615**: `# JSON formatter (simplified implementation)`
- **Line 1695**: `# We will use a temporary logger for db_pool`

### 7. Position Manager Assumptions
**File**: `/gal_friday/portfolio/position_manager.py`
- **Line 125**: `# For now, let's assume it just logs the number of active positions`
- **Line 392**: `# For now, assume we create a new one if the existing is inactive`
- **Line 407**: `# For now, ID will be auto-generated by DB if not provided`

### 8. Reconciliation Service
**File**: `/gal_friday/portfolio/reconciliation_service.py`
- **Line 1219**: `For now, this method prepares the 'correction' dict for the report`
- **Line 1295**: `# For now, only saving auto_corrections as explicit adjustments`
- **Line 1387**: `# For now, let's assume it can fetch the model or we adapt`

### 9. Migration Manager
**File**: `/gal_friday/dal/migrations/migration_manager.py`
- **Line 39**: `# For now, subsequent calls will likely fail if alembic_cfg cannot be loaded`
- **Line 103**: `# For now, let's try to get script heads which doesn't require DB connection`
- **Line 112**: `# For now, sticking to a method that can get DB state if possible`

### 10. Experiment Management
**File**: `/gal_friday/model_lifecycle/experiment_manager.py`
- **Line 1019**: `# Add to active experiments (still using ExperimentConfig dataclass for now)`
- **Line 1405**: `# For now, assume a basic mapping or that ExperimentConfig adapts`

**File**: `/gal_friday/dal/repositories/experiment_repository.py`
- **Line 67**: `# For now, let's assume BaseRepository.create or a direct session.merge could work`
- **Line 134**: `# For now, let's just return the input or fetch it`

### 11. Monitoring Enhancements
**File**: `/gal_friday/monitoring/dashboard_backend.py`
- **Line 244**: `# For now, calculate based on position concentration`

**File**: `/gal_friday/monitoring/position_order_data_quality.py`
- **Line 347**: `# For now, placeholder for future enhancement`

### 12. WebSocket Client
**File**: `/gal_friday/execution/websocket_client.py`
- **Line 709**: `# For now, publish as execution report`

### 13. Simulated Execution Handler
**File**: `/gal_friday/simulated_execution_handler.py`
- **Line 608**: `# This is a placeholder for advancing bar time correctly`
- **Line 1646**: `# Construct a temporary event for simulating the SL market order`

---

## LOW PRIORITY

### ~~1. Example/Test Code in Production Files~~ ✅ COMPLETED
**Status**: Removed all example code from production files

### ~~2. Minor Implementation Details~~ ✅ COMPLETED
**Status**: Fixed exception handler initialization, improved error handling, cleaned up comments

### 3. Test Simplifications
**File**: `/scripts/train_initial_model.py`
- **Line 427**: `# this function. Simplified: fit only on train data for now`

**File**: `/tests/unit/test_feature_engine_pipeline_construction.py`
- **Line 224**: `# For now, we confirm default is applied`

**File**: `/tests/test_integration.py`
- **Line 277**: `# For now, just verify the test framework`

---

## Implementation Strategy

1. **Start with CRITICAL items** - The system cannot function without proper data providers
2. **Move to HIGH priority** - Replace stubs and integrate with DAL
3. **Address MEDIUM items** - Enhance simplified implementations
4. **Clean up LOW priority** - Remove example code and improve test coverage

Each implementation should include:
- Proper error handling
- Comprehensive logging
- Unit tests
- Integration tests where applicable
- Documentation updates